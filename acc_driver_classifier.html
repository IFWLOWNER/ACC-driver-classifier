
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ACC Driver Classifier</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">
  <div class="bg-white p-8 rounded-2xl shadow-md w-full max-w-lg">
    <h1 class="text-2xl font-bold mb-4">ACC Driver Classification</h1>
    <form id="classificationForm" class="space-y-4">
      <input type="text" id="driverName" placeholder="Driver Name" class="w-full p-2 border rounded" required />
      
      <select id="track" class="w-full p-2 border rounded" required>
        <option value="">Select Track</option>
        <option>Monza</option>
        <option>Imola</option>
        <option>Spa Francorchamps</option>
        <option>Silverstone</option>
        <option>Donington Park</option>
      </select>

      <select id="carClass" class="w-full p-2 border rounded" required>
        <option value="">Select Car Class</option>
        <option>GT3</option>
        <option>GT4</option>
      </select>

      <input type="text" id="lapTime" placeholder="Lap Time (e.g. 1:47.3)" class="w-full p-2 border rounded" required />

      <button type="submit" class="w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700">Classify Me</button>
    </form>

    <div id="result" class="mt-4 text-lg font-semibold"></div>
  </div>

  <script>
    const classificationData = {
      "Monza": {
        "GT3": ["1:52.0", "1:50.5", "1:48.9", "1:47.9", "1:46.6"],
        "GT4": ["1:57.8", "1:52.0", "1:50.5", "1:48.9", "1:47.1"]
      },
      "Imola": {
        "GT3": ["1:46.0", "1:44.0", "1:42.6", "1:41.0", "1:39.4"]
      }
    };

    function timeToSeconds(timeStr) {
      const [min, sec] = timeStr.split(":");
      return parseInt(min) * 60 + parseFloat(sec);
    }

    function classify(track, carClass, lapTime) {
      if (!classificationData[track] || !classificationData[track][carClass]) return "No data for selected track/class";
      const thresholds = classificationData[track][carClass].map(timeToSeconds);
      const userTime = timeToSeconds(lapTime);
      const classes = ["Rookie", "AM", "Silver", "Pro", "Alien"];

      for (let i = 0; i < thresholds.length; i++) {
        if (userTime <= thresholds[i]) return classes[i];
      }
      return "Alien";
    }

    document.getElementById("classificationForm").addEventListener("submit", function (e) {
      e.preventDefault();
      const track = document.getElementById("track").value;
      const carClass = document.getElementById("carClass").value;
      const lapTime = document.getElementById("lapTime").value.trim();

      const result = classify(track, carClass, lapTime);
      document.getElementById("result").textContent = `You're classified as: ${result}`;
    });
  </script>
</body>
</html>
